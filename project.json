{
    "$schema": "http://json-schema.org/schema#",
    "$id": "https://raw.githubusercontent.com/myhumankit/myworkshop/master/schemas/project.json",
    "title": "JSON SCHEMA for My Workshop",
    "description": "This is a JSON SCHEMA for the documentation generator My Workshop",

    "definitions": {
        "image": {
            "description": "link to a picture",
            "type": "object",
            "required": ["url"],
            "properties": {
                "url": {
                    "type": "string",
                    "format": "uri"
                },
                "caption": {
                    "type": "string"
                }
            }
        },
        "link": {
            "description": "link to a website, etc.",
            "type": "object",
            "required": ["url", "title"],
            "properties": {
                "url": {
                    "type": "string",
                    "format": "uri"
                },
                "title": {
                    "type": "string"
                },
                "fa5_icon": {
                    "title": "Font Awesome 5 icon class",
                    "type": "string"
                }
            }
        },
        "user": {
            "description": "a physical person",
            "type": "object",
            "required": ["full_name"],
            "properties": {
                "full_name": {
                    "type": "string"
                },
                "email": {
                    "format": "email",
                    "type": "string"
                },
                "github_username": {
                    "type": "string"
                },
                "twitter_username": {
                    "type": "string"
                },
                "role": {
                    "type": "string"
                }
            }
        },
        "alert": {
            "description": "an alert message",
            "type": "object",
            "required": ["message", "class"],
            "properties": {
                "message": {
                    "type": "string"
                },
                "class": {
                    "type": "string",
                    "enum": ["success", "danger", "warning", "info"]
                }
            }
        },
        "skill": {
            "description": "a required skill to perfom an operation",
            "type": "object",
            "required": ["name"],
            "properties": {
                "name": {
                    "type": "string"
                }
            }
        },
        "step": {
            "description": "describe a step of the tutorial",
            "type": "object",
            "required": ["title", "content"],
            "default": {
                "title": "Nouvelle étape",
                "content": "À vous de jouer ..."
            },
            "properties": {
                "title": {
                    "type": "string"
                },
                "content": {
                    "type": "string",
                    "format": "textarea"
                },
                "duration": {
                    "description": "estimated duration of a step",
                    "type": "number"
                },
                "images": {
                    "type": "array",
                    "minItems": 1,
                    "items": { "$ref": "#/definitions/image" }
                },
                "alerts": {
                    "type": "array",
                    "minItems": 1,
                    "items": { "$ref": "#/definitions/alert" }
                },
                "skills": {
                    "type": "array",
                    "minItems": 1,
                    "items": { "$ref": "#/definitions/skill" }
                }
            }
        }
    },

    "type": "object",
    "required": ["project"],
    "properties": {
        "project": {
            "description": "Root of the project description",
            "type": "object",
            "required": ["full_name", "slug", "short_description", "lang"],
            "properties": {
                "full_name": {
                    "type": "string"
                },
                "slug": {
                    "type": "string"
                },
                "short_description": {
                    "type": "string"
                },
                "lang": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                },
                "featured_image": { "$ref": "#/definitions/image" },
                "links": {
                    "type": "array",
                    "minItems": 1,
                    "items": { "$ref": "#/definitions/link" }
                },
                "contributors": {
                    "type": "array",
                    "minItems": 1,
                    "items": { "$ref": "#/definitions/user" }
                },
                "introduction": {
                    "title": "Introduction",
                    "description": "Introduction, history of this project.",
                    "type": "string",
                    "format": "textarea",
                    "default": "Comment est né ce projet ? Quelle est son histoire ? Quel est son contexte ?"
                },
                "steps": {
                    "type": "array",
                    "minItems": 1,
                    "items": { "$ref": "#/definitions/step" }
                }
            }
        }
    }
}
